language: java
jdk: openjdk8
services:
- docker
branches:
  except:
  - "/^[0-9]/"
before_script:
- git config --global user.name "${GIT_USER_NAME}"
- git config --global user.email "${GIT_USER_EMAIL}"
- cp .travis.settings.xml $HOME/.m2/settings.xml
stages:
- name: devbuild
  if: branch != master
- name: masterdeploy
  if: branch = master
jobs:
  include:
  - stage: devbuild
    name: Development Build
    script: mvn clean install jib:dockerBuild -Drevision=${TRAVIS_BUILD_NUMBER}.$(git
      rev-parse --short HEAD)
  - stage: masterdeploy
    name: build master, site and deploy
    script:
    - mvn clean install jib:dockerBuild scm:tag deploy site -Drevision=${TRAVIS_BUILD_NUMBER}.$(git
      rev-parse --short HEAD) -Dusername="${GIT_USER_NAME}" -Dpassword="${GITPW}"
    - echo "${DOCKER_PASSWORD}" | docker login -u "${DOCKER_USERNAME}" --password-stdin
      && docker images && docker push npiper/aec-parties-scraper
env:
  global:
  - secure: 0ryi3QtB014spg2D13tHyGdXy1ObyBXte8nDSfV5BKLS5BPtE9GOYfQuKD81zm3Prf19nhqMRif+QrUHbVhTA3yqAZFwrWFP4fHt6YHwQf7BDzsNUmbdWAggrG+L3n2/j15XEJM7OHKmnzORxJKH7rN4UtKdpMPM3UjebxYTpVHJli1ZAUtmmIcZ4E3AUT8fcvgbwobcF2iapDVUDnsZfO5gb/LlK6lUKlMw/25iMVgLEMMhGwxVT9hwBoBy8Y6+mDrnN0gYb7NVv29oxN2Roh27OI+W7SpkDzmpkasBRtzM7/3JCnQAkXb2PkFeyAMDiUIxxrt6M7y9xHY1qBHLInTP8qkvZJl7IBiTRlS0rTTBuqyI4xzl8rKHcwxcBJdgNULIYdAokCtM5/4wXL62T8HO3CySMO7G2a/R0C/2oyF6ItwZO4QvOYJ9+5QK9SYYl43wGNu+PmZpr/uvMrixFdlJv2lmSraybJzgD8NOKv5PY9cDQ3UUGPdJR9uxK6EPKzx/adJK0GM02cxPo4MJ1kalLwuOR3yv9KBJgFKhpLbjRR68EkB78Br/KTLVw6kIiufbehgz3kgXLbW4q875leu/0rZoQn+/OO0bXTiIeEU7nYEF+A83+filc359FVhgM9VnIScC2/1QkVBPokMVVH+crKZ6jG8Sk/WecDEy5JQ=
  - secure: MvP9zYc6rpyV0wmDsyRrFHczqFdWHJ5zM5bJMCwULA5F1Qt+OXSd/JLcyAlSZRgIgmEK8sv/YDx0435DqcXDWEpZHyqTOrx9bsmxHcxc7fS9RZZUESYpeVeqEv0S7DiS0fNTRzJKDqWaUBrXd8TYQPkD81JuxF+INFccHHhUv1lnPl1LfM6DPoj2aGVOTQOnl1FWna7pQeLavaXKE2wm6TonmkRc1SBsnW3vHmUIKebRtdhjlGFCAYjxNy4nt9pBIOWUHeFAe2cSGlgSMcQEM7BP+nzifqmpySFFNSRueNULkMbrvv0mNLLuF6HndFpXR0riykL3h0saGMZQQMExZsNrMVw7DmTVF9dBKQogSPTEJ87JG/BXEE0omAf3FbRNxpl94wkMj1FuSSKo31vq+eKVOgUTGgw2XU3WHpGFFz0+FJXX0ayEg7hYg08Wd20bbInLwplB5IimBC3z+73mMVQdKSew3BiHoM8Kz0DahQgTJrvE2Jw/zq7EQenrYGHLZ9oKF5i4rDN69PEgnMCI+iun+Ym0y2o2mM0qhwVZRGRkBi3pP+gmQvtXvGoupKO34cmEu00BxoFy9GlZWmKnQxzNoA5QpN3PogSjmJcL7BssGitTHRHFLc0ZSJCXlEPWScKmBHY8ZneQayjvAYIp/zUWs7ZUtz2TMxIzYViGJPg=
  - secure: C9ndeuMhh9tBMIPP1h+v4EazTKUGMwBJuq/D3bqcPBEsCCDyVnWQgW28SpmXdNzKqGgi0HJgBNDhbvj26Ef9Ubp/SvwFMyedVXGDPYMgFnbOSyq1sRc0tQWLJMW9aOSGyIvtTmjwey1x9Qaf2jVaJsjos7dbd/lT+zq+c2QZSxYl5XhobDCy1jsQtzL83kEDZLylfFmK0qKRMRgwgy/BiryxojPgElxSCKBvjsDnV56Axl3wN+TOx4ldKgsEVQnSLOOl9tKrjNewqIJu0xVUX9Mp3gTR2+vYX0CsaBeTlh9eSAYBb0T8nD8bRDsWEXX1+z1MsGu8WK6Rj4qOfK54ecNO81qK81gbAu1uAWdXxNoSWoLTTSkjPaYLomi4eGgtyIhc6UInVVkWvzIR9WCe26KPSglSe703S5038nP+Ru1rFf8YcQm70Fah8PCIZ698XVCU16wZWqQpRUpic3lnWDx9MASWEuQl7lAHZn9BDwcqo5eJDM7mbzJNw5hqqooqqc7smY7bKCIZsCIXw9e56pMAHFaMGy0KOiVUUhz4gMuZRsCsLYPBF6MuK3cCVLBeDxg2nTmcn0bD8kU1VsbU/EFeCdiY9RJ1t2aWDTdjoe4+XV9LcMTLJXjXqnoVsaJCmk7ZsFnwkg/TSZtjeB6mGzKh7gv0tt2yioCB4TxxZd4=
  - secure: RsGj6ymkjUEmjs62Afe8qbo9JrURSCDBpHQpTa5V+uRQ8ZYCDQMrWsv1V66LRjHUQjoC7yftLQqg56+Wu0MokkWVHINe/WIPZfNVkuMRNaS6hMQjyND0i9ZqPYopR/svQ7380OSr33v8pMDsyuU8Y46gesTcTQjW2rNfRnwuDSNQO5TamtiZZILN/aF7o9dRX596GilA0qK9vuuEEqDDgPCg6C9WV4bm2GxRfXs6F0tdWTC3JeXvSdTqDVn9mOxjcm4ebnZoVxsVetC4SP8oQnaN7B/L3Lx9vfI8NUCv+jsREyp9snFcPCg0AUVQxq2pe0qQRGnCrCCHdoJiyVFT/RQg/L2/INoHU4VXQNltyeACOF4ryEK9+O+zMQsQqpHgEGG6n81ZAJrEGyy+R6fX5MAKwhmRUub61n/CgX90qvvpZcpYiZuiN15f0PZE5qp+8GfKjUC65qN8FBxwi/Kq+imCSOeWsN34ooiQO2JWYfXysR/Hp5bEz0n7/bcJo3MlbkuowzZ6G1psWpZfTHMIOi7DPtV+FxzdAv6GwG8Wo2GrF7uZsEM6uTWNzhGizHea31oBUH06J0wSRI/1ajBL/2vP1XONjCvMAsn9oWAYampTkkjT5AvzKDkoA+OXxBBjW37+Ltr+aaPpyAXIxuSR54JpqCyigU7ylchM+cLhl5s=
  - secure: 0lHIPcAaBhOvFEu/wEzlOmkiuEM2GoKu//0nEv8GhXTDaD/nNmmc50OwEyoa/suEw6vThE2pDrs8I6QhBnUPLoXa0VfHsXECnwkHg3N1+zq8yZ0xue20VZ8FUi2XsnHuHi95pWqJP9iX9T6Uw5TTCfk4x5JXsW7GfwIIYbWRrkLGooFHaQPAjiN3cesRRKOYp6petEiE1TQWscpB3bsdHhfhF9HqMkEcY5XmTy5gOFVp3AK3oDFHXyMeYI9EdID/9Ubqmk1mTBIDqh4ilNn1f038J1asz+O087O1bOoAQS+Tf1H+9tQ4BQ7RTd9BtTffM5tKnEicYFBOtbKbXWw7Hwuu5l1VDaAb8pZCqz1xUBaUN1skSy64E4Lfvt+Y88Fss/qBDM2TJrKUewCEX/Lo9HVBpE7H0uMGdLOlVU7OEaFm4G3Snq0/hYc9t9Ys+mvGSBN/7rvJ70SVrW/Ewm/VXndKR7B3uv9NmkJ2/5KdLuaF/WKyDpHTuOuvUTJ18JoZpQAS6t1uso0heaE90A88uUvhwS42Syiva9ZeFVPW/TiZ2d3n///Zrt+xZFU8GG9Z26Knswtx7acQtqYLgHHu4z9WDohbuKOP/oALDE1aegfuI30dHB6CODMFv7qVjWUyGcEf5yr7tC1+5OWyi79A36U1d49Sj19QaCdpDk7ojoI=
  - secure: ZqdM6ZBJ4Z3hfuyMTBm3Q1pYubEJxxBuyC2q7rPDHgFvES1Z3UnNGxO29H5cYnPGr/ENLn45vL0fWgIzRcRMktSRnGrJWfkqswWl9rroN7ega2KIgthNUbrEP2SOUN+Y2imuIVnjhUtpwuATY4EtE0UI2pqNXj4eyBKDYyavuIWouq3nzEfrlB0eWGOy/u+E4m96Lqi/bu6PT0D4n/8ShceRNmbMsueEkNzXRifCwTe+g+miCuTfcTE0mDTJRfiknePRM5WTKvbo4FryjU8SW9Dem6wLJWm7jL7kmulAqqpV3lnD+WhprUc5dgyVp7yajK/9/Yc8hqg1gi4922J4xLUGq9gcPTKVDDNL4mE90EzoxuxLKmfwvh3naa9S0VtNzEhs+Aq3SszjY/SmkWqkUO23HBTM1HB9lo7y5jQQjN8bpQApBoXu6IYHhxBjo5dl+QO+h1LgNjYWX/onfr53Y8mZjlCX1EzAsapSL2c/MGj+eeEaWJbIu0EIZc4CcN2PDDsrkQKy+hwAQJHNty2tk/dc4viRUKve3OqMuiT7gVNJ/q0tnjd9Zsv6Efj6miR6EGTbkbrNlc8XdTy3IUzwwz2NigpbjvDgAl298WorGmiGqZwSgECkNWi7BFac9LJJLJV2AmR3TPn/zXMwt/59yyiT2aKeRlFCXOf7vatRO14=
